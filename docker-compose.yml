services:
    jenkins:
        container_name: jenkins
        image: jenkins/jenkins:lts
        privileged: true
        user: root
        ports:
            - 8080:8080
            - 50000:50000
        volumes:
            - ./data/jenkins:/var/jenkins_home
            - /var/run/docker.sock:/var/run/docker.sock
        environment:
            - TZ=America/Sao_Paulo
        networks:
            - jenkins
    agent:
        container_name: agent
        image: jenkins/ssh-agent:jdk11
        privileged: true
        user: root
        expose:
            - 22
        volumes:
            - ./data/agent:/home/jenkins/agent
        environment:
            - JENKINS_AGENT_SSH_PUBKEY=ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQCupkVmrF7EMEz4N65k/ELnXd5yzZDeNRFd9MDAaWeOKC4ANtT3fNgtU5xKVFjh/oqevh3FwkPJI6gnOTuvXeZtkWNesPjg1/tgC33k2Y6mUJAtu0JEPeQFP0jw2g4a3fA80GRKmzK0cd8M24asFgNOmpEza3LFPOuA93WgnaCfYreDEFsmOg293WXnVxdzZof2WEi8e8J/AUy8BE2cPbHrb8X20TD8WG5lnUDOTDazUA8hRRP27MRDFV9IsQ5GYk+33fVnWvqytEnpxnT218Ez1R0HLNSezngEaaZBFFVLDSeLQGIAbTWuwtBo5sXEY6yylWIr5WPgDbOonxHxkAR9v3YI0jPIZaW8jmYtjVnwXOr5CZZaI8BKI67k5csymX1AERbckxF1tMz9v+tontaJdVanHK4uDaWxGcXQRVOvH4UgQVIsjlY/ZrARpyKUnXA/0X5OqbEqOjOBb+ZXlaTBAI/a/QGzX5mzGB8ASRp81IGIoRNjnC68tRuY1CxTD28= root@d3f9fa64e06e
            - TZ=America/Sao_Paulo
        networks:
            - jenkins
networks:
    jenkins:
